{"ast":null,"code":"import _defineProperty from\"/Users/kiranmanikonda/react_projects/memories_app/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/kiranmanikonda/react_projects/memories_app/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/kiranmanikonda/react_projects/memories_app/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useDispatch}from'react-redux';import{Avatar,Button,Paper,Grid,Typography,Container}from'@material-ui/core';import{useNavigate}from'react-router-dom';import LockOutlinedIcon from'@material-ui/icons/LockOutlined';import{signin,signup}from'../../actions/auth';import useStyles from'./styles';import Input from'./Input';// used to clear login\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var initialState={firstName:'',lastName:'',email:'',password:'',confirmPassword:''};// sign up / sign in front end\nvar Auth=function Auth(){// state for whether user has signed in\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),isSignup=_useState2[0],setIsSignup=_useState2[1];// state for saving form data\nvar _useState3=useState(initialState),_useState4=_slicedToArray(_useState3,2),formData=_useState4[0],setFormData=_useState4[1];var dispatch=useDispatch();var history=useNavigate();var classes=useStyles();// state for password visibility\nvar _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showPassword=_useState6[0],setShowPassword=_useState6[1];// toggle password visibility\nvar handleShowPassword=function handleShowPassword(){return setShowPassword(!showPassword);};// true = bad login, false = user logged in / signed up\nvar _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),badLogin=_useState8[0],setbadLogin=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),badSignUp=_useState10[0],setbadSignUp=_useState10[1];// on clicking form submit\nvar handleSubmit=function handleSubmit(e){e.preventDefault();//console.log('submit')\n//console.log(formData);\n// call auth actions\nif(isSignup){dispatch(signup(formData,history,setbadSignUp));}else{dispatch(signin(formData,history,setbadLogin));}};// switch between login and signup\nvar switchMode=function switchMode(){setbadLogin(false);setbadSignUp(false);//setFormData(initialState);\nsetIsSignup(function(prevIsSignup){return!prevIsSignup;});setShowPassword(false);};// update text for user input\nvar handleChange=function handleChange(e){return setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},e.target.name,e.target.value)));};return/*#__PURE__*/_jsx(Container,{component:\"main\",maxWidth:\"xs\",children:/*#__PURE__*/_jsxs(Paper,{className:classes.paper,elevation:3,children:[/*#__PURE__*/_jsx(Avatar,{className:classes.avatar,children:/*#__PURE__*/_jsx(LockOutlinedIcon,{})}),/*#__PURE__*/_jsx(Typography,{variant:\"h5\",children:isSignup?'Sign up':'Sign in'}),/*#__PURE__*/_jsxs(\"form\",{className:classes.form,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[isSignup&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Input,{name:\"firstName\",label:\"First Name\",handleChange:handleChange,autoFocus:true,half:true}),/*#__PURE__*/_jsx(Input,{name:\"lastName\",label:\"Last Name\",handleChange:handleChange,half:true})]}),/*#__PURE__*/_jsx(Input,{name:\"email\",label:\"Email Address\",handleChange:handleChange,type:\"email\"}),/*#__PURE__*/_jsx(Input,{name:\"password\",label:\"Password\",handleChange:handleChange,type:showPassword?'text':'password',handleShowPassword:handleShowPassword}),isSignup&&/*#__PURE__*/_jsx(Input,{name:\"confirmPassword\",label:\"Repeat Password\",handleChange:handleChange,type:\"password\"})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",color:\"primary\",className:classes.submit,children:isSignup?'Sign Up':'Sign In'}),/*#__PURE__*/_jsx(Grid,{container:true,justify:\"flex-end\",children:/*#__PURE__*/_jsxs(Grid,{item:true,children:[/*#__PURE__*/_jsx(Button,{onClick:switchMode,children:isSignup?'Already have an account? Sign in':\"Don't have an account? Sign Up\"}),badLogin&&!isSignup&&/*#__PURE__*/_jsx(Typography,{variant:\"h5\",children:\"That user was not found\"}),badSignUp&&isSignup&&/*#__PURE__*/_jsx(Typography,{variant:\"h5\",children:\"A user exists with that email\"})]})})]})]})});};export default Auth;","map":{"version":3,"names":["React","useState","useDispatch","Avatar","Button","Paper","Grid","Typography","Container","useNavigate","LockOutlinedIcon","signin","signup","useStyles","Input","initialState","firstName","lastName","email","password","confirmPassword","Auth","isSignup","setIsSignup","formData","setFormData","dispatch","history","classes","showPassword","setShowPassword","handleShowPassword","badLogin","setbadLogin","badSignUp","setbadSignUp","handleSubmit","e","preventDefault","switchMode","prevIsSignup","handleChange","target","name","value","paper","avatar","form","submit"],"sources":["/Users/kiranmanikonda/react_projects/memories_app/client/src/components/Auth/Auth.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Avatar, Button, Paper, Grid, Typography, Container } from '@material-ui/core';\nimport { useNavigate } from 'react-router-dom';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\n\nimport { signin, signup } from '../../actions/auth';\nimport useStyles from './styles';\nimport Input from './Input';\n\n// used to clear login\nconst initialState = { firstName: '', lastName: '', email: '', password: '', confirmPassword: '' };\n\n\n// sign up / sign in front end\n\nconst Auth = () => {\n\n  // state for whether user has signed in\n  const [isSignup, setIsSignup] = useState(false);\n\n  // state for saving form data\n  const [formData, setFormData] = useState(initialState);\n\n  const dispatch = useDispatch();\n  const history = useNavigate();\n  const classes = useStyles();\n\n  // state for password visibility\n  const [showPassword, setShowPassword] = useState(false);\n\n  // toggle password visibility\n  const handleShowPassword = () => setShowPassword(!showPassword);\n\n  // true = bad login, false = user logged in / signed up\n  const [badLogin, setbadLogin] = useState(false);\n  const [badSignUp, setbadSignUp] = useState(false);\n\n  // on clicking form submit\n  const handleSubmit = (e) => {\n    e.preventDefault(); \n    //console.log('submit')\n    //console.log(formData);\n\n    // call auth actions\n    if (isSignup) {\n      dispatch(signup(formData, history, setbadSignUp));\n    } else {\n      dispatch(signin(formData, history, setbadLogin));\n    }\n  }\n\n  // switch between login and signup\n  const switchMode = () => {\n    setbadLogin(false);\n    setbadSignUp(false);\n    //setFormData(initialState);\n    setIsSignup((prevIsSignup) => !prevIsSignup);\n    setShowPassword(false);\n  };\n\n  // update text for user input\n  const handleChange = (e) => setFormData({ ...formData, [e.target.name]: e.target.value });\n\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <Paper className={classes.paper} elevation={3}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n\n        <Typography variant=\"h5\">{ isSignup ? 'Sign up' : 'Sign in' }</Typography>\n        <form className={classes.form} onSubmit={handleSubmit}>\n        <Grid container spacing={2}>\n          { isSignup && (\n            <>\n              <Input name=\"firstName\" label=\"First Name\" handleChange={handleChange} autoFocus half />\n              <Input name=\"lastName\" label=\"Last Name\" handleChange={handleChange} half />\n            </>\n          )}\n            <Input name=\"email\" label=\"Email Address\" handleChange={handleChange} type=\"email\" />\n            <Input name=\"password\" label=\"Password\" handleChange={handleChange} type={showPassword ? 'text' : 'password'} handleShowPassword={handleShowPassword} />\n          { isSignup && <Input name=\"confirmPassword\" label=\"Repeat Password\" handleChange={handleChange} type=\"password\" /> }\n        </Grid>\n        <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\" className={classes.submit}>\n          { isSignup ? 'Sign Up' : 'Sign In' }\n        </Button>\n        <Grid container justify=\"flex-end\">\n          <Grid item>\n            <Button onClick={switchMode}>\n              { isSignup ? 'Already have an account? Sign in' : \"Don't have an account? Sign Up\" }\n            </Button>\n\n            { badLogin && !isSignup && (\n              <Typography variant=\"h5\">That user was not found</Typography>\n            )}\n            \n            { badSignUp && isSignup && (\n              <Typography variant=\"h5\">A user exists with that email</Typography>\n            )}\n\n           </Grid>\n          </Grid>\n        </form>\n\n      </Paper>\n    </Container>\n  )\n}\n\nexport default Auth"],"mappings":"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"},"metadata":{},"sourceType":"module"}